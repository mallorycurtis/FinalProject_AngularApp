"use strict";angular.module("finalProjectAngularAppApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngStorage","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/current/:recipeName",{templateUrl:"views/current.html",controller:"CurrentCtrl",controllerAs:"current"}).otherwise({redirectTo:"/"})}]),angular.module("finalProjectAngularAppApp").controller("MainCtrl",["$scope","current","$localStorage",function(a,b,c){a.current=b.query(),a.storage=c,console.log(c),a.ingredients=c.savedDishes.ingredients,a.refreshCurrent=function(){a.recipeResults=b.query({ingredient:a.ingredient})},a.saveRecipe=function(a){c.dish=a},a.unsaveRecipe=function(a){console.log(a.ingredients);for(var b=0;b<c.savedDishes.length;b++)c.savedDishes[b].id===a.id&&c.savedDishes.splice(b,1)}}]),angular.module("finalProjectAngularAppApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("finalProjectAngularAppApp").factory("current",["$resource",function(a){return a("http://api.yummly.com/v1/api/recipes?_app_id=27e808b3&_app_key=0c75275d5a1a174629e2a8acbd502e57&q=:ingredient&requirePictures=true",{},{query:{method:"GET",params:{ingredient:""},isArray:!1}})}]),angular.module("finalProjectAngularAppApp").controller("CurrentCtrl",["$scope","$routeParams","current","$localStorage",function(a,b,c,d){a.storage=d,console.log(a.storage.dish),a.recipeName=a.storage.dish.recipeName,a.ingredients=a.storage.dish.ingredients,d.savedDishes||(d.savedDishes=[]),a.addTo=function(){d.savedDishes.push(d.dish),a.recipeSaved={success:!0}},a.myRecipe=function(b){var c=b;if(d.savedDishes){for(var e=!0,f=0;f<d.savedDishes.length;f++)d.savedDishes[f].id===c.id&&(e=!1);e===!0?(d.savedDishes.push(d.dish),a.recipeSaved={success:!0}):(console.log("Already Saved"),a.recipeSaved={duplicate:!0})}else d.savedDishes=[c]}}]),angular.module("finalProjectAngularAppApp").controller("ScrollController",["$scope","$location","$anchorScroll",function(a,b,c){a.gotoBottom=function(){b.hash("bottom"),c()}}]),angular.module("finalProjectAngularAppApp").run(["$templateCache",function(a){a.put("views/about.html",'<div ng-app class="jumbotron"> <h1>Shopping List</h1> </div>'),a.put("views/current.html",'<div ng-controller="CurrentCtrl"> <h2 class="resultsTitle">Ingredients for {{recipeName}}</h2> <ul class="allIngredients" ng-repeat="ingredient in ingredients"> <li>{{ingredient}}</li> </ul> <p> <a ng-click="myRecipe(storage.dish)" class="btn btn-lg btn-primary">Save Recipe</a> <a ng-href="#/" class="btn btn-lg btn-primary">New Search</a> </p> <div ng-messages="recipeSaved"> <p class="recipe-saved-alert bg-success text-success" ng-message="success"> {{recipeName}} has been saved to your recipes! </p> <p class="recipe-saved-alert bg-warning text-warning" ng-message="duplicate"> This recipe has already been saved. </p> </div> </div>'),a.put("views/main.html",'<div class="container"> <!--Start Recipe Search Container--> <div ng-app class="col-xs-6 col-md-6" ng-controller="MainCtrl" style="text-align:center"> <h1>Find Recipes</h1> <div class="lead"> <p><label for="location"> <input type="text" name="ingredient" ng-model="ingredient" placeholder="Search by ingredients"> </label> </p> </div> <div ng-app="ngAnimate"> <p><button type="button" ng-model="clicked" ng-init="checked=true" class="btn btn-lg btn-primary styledbutton" ng-click="refreshCurrent()">Get Recipes</button></p> <div class="results"> <span ng-if="clicked" class="animate-if"> <h2 class="resultsTitle">Search for: {{ingredient}} ({{recipeResults.totalMatchCount}} found)</h2> </span> <div id="scrollArea" ng-controller="ScrollController"> <div class="col-xs-6 col-md-6" ng-repeat="recipe in recipeResults.matches"> <h5>{{recipe.recipeName}}</h5> <img src="{{recipe.imageUrlsBySize[90]}}"> <p>Rating: {{recipe.rating}}<span class="glyphicon glyphicon-star"></span></p> <a ng-href="/FinalProject_AngularApp/#/current/{{recipe.id}}" ng-click="saveRecipe(recipe)" class="btn btn-lg btn-primary">View Recipe</a> </div> <!--end scroll area--> </div> </div> </div> <!--End Recipe Search Container--> <!--Start Tab Panel Container--> <div class="container" ng-controller="MainCtrl"> <div ng-app class="col-xs-6 col-md-6" style="margin-left:10px"> <div role="tabpanel"> <ul class="nav nav-pills"> <li class="active"><a data-toggle="pill" href="#recipes">My Recipes</a></li> <li><a data-toggle="pill" href="#shoppinglist">Shopping List</a></li> </ul> <div class="tab-content"> <div id="recipes" class="tab-pane fade in active"> <div ng-app class="col-xs-12 col-md-12"> <div ng-if="storage.savedDishes"> <div class="row"> <div id="scrollArea2" ng-controller="ScrollController"> <div class="col-xs-6 col-md-6" ng-repeat="recipe in storage.savedDishes"> <h5>{{recipe.recipeName}}</h5> <img src="{{recipe.imageUrlsBySize[90]}}"><br> <a class="btn btn-sm btn-primary styledbutton2" ng-click="unsaveRecipe(recipe)">Unsave Recipe</a> </div> </div> <!--end scroll area--> </div> </div> </div> </div> <!--Shopping List --> <div id="shoppinglist" class="tab-pane fade"> <div ng-app class="col-xs-12 col-md-12" style="background-image:url(\'images/paper.2bcbf5b4.png\')"> <h3>Items Needed:</h3> <div ng-if="storage.savedDishes"> <div id="scrollArea3" ng-controller="ScrollController"> <ul> <li ng-repeat="recipe in storage.savedDishes">{{recipe.recipeName}}: <ul> <li ng-repeat="ingredient in recipe.ingredients">{{ingredient}}</li> </ul> </li> </ul> </div> <!--end scroll area--> </div> </div> </div> </div> </div> </div> </div> <!--End Tab Panel Container--> </div></div>')}]);